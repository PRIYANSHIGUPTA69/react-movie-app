(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(22),c=n.n(r),s=(n(29),n(30),n(8)),i=n(9),o=n(11),l=n(10),u=n(0),j=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{children:"New component"})}}]),n}(a.Component),b=n(14),h=n(2),d=n(17),p=n.n(d),g=n(20),m=n(23);var v=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.genres,n=e.groupBygenre;return Object(u.jsx)("ul",{class:"list-group",children:t.map((function(e){return Object(u.jsx)("li",{class:"list-group-item",onClick:function(){n(e.name)},children:e.name},e.id)}))})}}]),n}(a.Component),O=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){for(var e=this.props,t=e.numberofPage,n=e.currentPage,a=e.changeCurrentPage,r=[],c=0;c<t;c++)r.push(c+1);return Object(u.jsx)("nav",{"aria-label":"...",className:"col-2",children:Object(u.jsx)("ul",{className:"pagination ",children:r.map((function(e){var t=e==n?"page-item active":"page-item";return Object(u.jsx)("li",{className:t,"aria-current":"page",onClick:function(){a(e)},children:Object(u.jsx)("span",{className:"page-link",children:e})})}))})})}}]),n}(a.Component),f=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],genres:[{id:1,name:"All Genres"}],currSearchText:"",limit:4,currentPage:1,cGenre:"All Genres"},e.deleteEntry=function(t){var n=e.state.movies.filter((function(e){return e._id!=t}));e.setState({movies:n})},e.setCurrentText=function(t){var n=t.target.value;e.setState({currSearchText:n})},e.sortByRatings=function(t){var n,a=t.target.className,r=e.state.movies;n="fas fa-sort-up"==a?r.sort((function(e,t){return e.dailyRentalRate-t.dailyRentalRate})):r.sort((function(e,t){return t.dailyRentalRate-e.dailyRentalRate})),e.setState({movies:n})},e.sortByStock=function(t){var n,a=t.target.className.trim(),r=e.state.movies;n="fas fa-sort-up"==a?r.sort((function(e,t){return e.numberInStock-t.numberInStock})):r.sort((function(e,t){return t.numberInStock-e.numberInStock})),e.setState({movies:n})},e.changelimit=function(t){var n=t.target.value;n<1||e.setState({limit:n})},e.changeCurrentPage=function(t){e.setState({currentPage:t})},e.groupBygenre=function(t){e.setState({cGenre:t,currSearchText:""})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-backend101.herokuapp.com/movies");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,this.setState({movies:n.movies}),e.next=9,fetch("https://react-backend101.herokuapp.com/genres");case 9:return t=e.sent,e.next=12,t.json();case 12:a=e.sent,this.setState({genres:[].concat(Object(g.a)(this.state.genres),Object(g.a)(a.genres))});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log(1);var t=this.state,n=t.movies,a=t.currSearchText,r=t.limit,c=t.currentPage,s=t.genres,i=t.cGenre,o=n;"All Genres"!=i&&(o=o.filter((function(e){return e.genre.name==i}))),""!=a&&(o=o.filter((function(e){return e.title.trim().toLowerCase().includes(a.toLowerCase())})));var l=Math.ceil(o.length/r),j=(c-1)*r,b=j+r;return o=o.slice(j,b),Object(u.jsxs)("div",{className:"row",style:{padding:"10px"},children:[Object(u.jsx)("div",{className:"col-3",children:Object(u.jsx)(v,{genres:s,groupBygenre:this.groupBygenre})}),Object(u.jsxs)("div",{className:"col-9",children:[Object(u.jsx)("input",{type:"search",value:a,onChange:this.setCurrentText}),Object(u.jsx)("input",{type:"number",className:"col-1",placeholder:"no of elements/page",value:r,onChange:this.changelimit}),Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"#"}),Object(u.jsx)("th",{scope:"col",children:"Title"}),Object(u.jsx)("th",{scope:"col",children:"Genre"}),Object(u.jsxs)("th",{scope:"col",children:[Object(u.jsx)("i",{className:"fas fa-sort-up",onClick:this.sortByStock}),"Stock",Object(u.jsx)("i",{className:"fas fa-sort-down",onClick:this.sortByStock})]}),Object(u.jsxs)("th",{scope:"col",children:[Object(u.jsx)("i",{className:"fas fa-sort-up",onClick:this.sortByRatings}),"Rate",Object(u.jsx)("i",{className:"fas fa-sort-down",onClick:this.sortByRatings})]})]})}),Object(u.jsx)("tbody",{children:o.map((function(t){return Object(u.jsxs)("tr",{scope:"row",children:[Object(u.jsx)("td",{children:" "}),Object(u.jsxs)("td",{children:[t.title," "]}),Object(u.jsx)("td",{children:t.genre.name}),Object(u.jsx)("td",{children:t.numberInStock}),Object(u.jsx)("td",{children:t.dailyRentalRate}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){e.deleteEntry(t._id)},children:"Delete"})})]},t._id)}))})]}),Object(u.jsx)(O,{numberofPage:l,currentPage:c,changeCurrentPage:this.changeCurrentPage})]})]})}}]),n}(a.Component),x=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(u.jsx)(b.b,{className:"navbar-brand",to:"/",children:"Movies"}),Object(u.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(u.jsx)("span",{className:"navbar-toggler-icon"})}),Object(u.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(u.jsx)("div",{className:"navbar-nav",children:Object(u.jsx)(b.b,{className:"nav-link",to:"/login",children:"Login"})})})]})}}]),n}(a.Component);var y=function(){return Object(u.jsxs)(b.a,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)(h.c,{children:[Object(u.jsx)(h.a,{to:"/",exact:!0,component:f}),Object(u.jsx)(h.a,{to:"/new",exact:!0,component:j})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(40);c.a.render(Object(u.jsx)(y,{}),document.getElementById("root")),k()}},[[41,1,2]]]);
//# sourceMappingURL=main.19c5a3d2.chunk.js.map